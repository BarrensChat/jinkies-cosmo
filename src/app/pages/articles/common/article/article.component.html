
<div [formGroup]='articleFormGroup'>

  <mat-card class="mb-5">
    <mat-card-title>Title</mat-card-title>

    <!-- <mat-card-content [formGroup]='this.title'> -->
    <mat-card-content>
      <mat-form-field appearance="fill" class="w-100">
          <mat-label>Title</mat-label>
          <input matInput placeholder="Enter a title for the article" type="text" id="title" formControlName="title" [formControl]="this.articleFormGroup.controls.title">
      </mat-form-field>
    </mat-card-content>
  </mat-card>

  <div [formGroup]="articleFormGroup" *ngIf="this.slides().controls">
    <span *ngFor="let formGroup of this.slides().controls; let i = index">
      <mat-divider class="mb-5" *ngIf="i != 0"></mat-divider>
      <app-slide
          [slide]='formGroup'
          [slideIndex]='i'
          [form] = "this.slides().controls"
          (insert)="insertSlide($event)"
          (delete)="deleteSlide($event)"
          (move)="moveSlide($event)"
          >
      </app-slide>
    </span>
  </div>

  <mat-card class="mt-5 mb-5">
    <mat-card-content>
      <div class="row">
        <div class="col-6">
          <mat-card-title>
            Tags
          </mat-card-title>
          <mat-form-field appearance="fill" class="w-100">
            <mat-chip-list #chipList aria-label="Tag selection">
              <mat-chip *ngFor="let tag of this.tags().controls; let i = index" [selectable]="selectable"
                        [removable]="removable" (removed)="remove(tag)">
                {{tag.get('name').value}}
                <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
              </mat-chip>
              <input placeholder="New Tag..."
                      [matChipInputFor]="chipList"
                      [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                      [matChipInputAddOnBlur]="addOnBlur"
                      (matChipInputTokenEnd)="add($event)"
                      formArrayName="tags"
                      >
            </mat-chip-list>
          </mat-form-field>
        </div>

        <div class="col-6">
          <mat-card-title>
            Category
          </mat-card-title>
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Category</mat-label>
            <mat-select>
              <mat-option *ngFor="let category of this.categoriesToArray() | keyvalue" value="{{category.key}}">{{category.value}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>


    </mat-card-content>
  </mat-card>
</div>

